# Custom Yandex Maps

В head страницы подключить API:

```html
<script src="https://api-maps.yandex.ru/2.1/?&lang=ru_RU" type="text/javascript"></script>
```

[Перейти на сайт](https://mihail174.ru/docs/developments/custom_map)

## Функциональность карты

### Основные возможности

1. __Использование одной или нескольких меток.__

    Позволяет пользователю добавлять на карту одну или несколько меток. Это удобно для обозначения различных точек интереса, таких как:
   - Достопримечательности
   - Магазины
   - Офисы
   - Другие объекты


2. __Подстройка масштаба карты под одну или все метки.__

   Автоматически настраивает масштаб карты так, чтобы все добавленные метки были видны на экране. Это помогает пользователю сразу увидеть все важные точки без необходимости ручной настройки масштаба.


3. __Выбор, какие элементы на карте отображать.__

   Позволяет пользователю выбирать, какие элементы карты будут отображаться. Например, можно включить или выключить отображение:
   - Дорог
   - Зданий
   - Рек
   - Границ
   - Других объектов

4. __Кластеризация объектов__

    Объединяет объекты у которых имеются одни и те же координаты.

 
5. __Отображение данных метки через попап или балун.__

   При использовании попапа необходимо наличие скрипта [CustomPopup](https://github.com/mihail-174/custom_popup).

### Настройка меток

1. __Задание координат и подсказок.__
   - Можно задавать координаты для одной или нескольких меток
   - Возможность добавления всплывающих подсказок с дополнительной информацией
   - Подсказки отображаются при наведении или клике на метку


2. __Содержимое всплывающей подсказки.__

   Определяет, какая информация будет отображаться во всплывающей подсказке при взаимодействии с меткой:
   - Текст
   - Изображения
   - Ссылки
   - Другая полезная информация


### Настройка внешнего вида меток

   1. __Путь до иконки маркера.__

      Позволяет задавать пользовательские иконки для меток, указывая путь к изображению. Это позволяет использовать уникальные иконки, которые лучше соответствуют тематике метки.


   2. __Размер маркера.__

      Позволяет настраивать размер меток на карте. Это полезно для:
      - Выделения более важных меток
      - Улучшения визуального восприятия карты


   3. __Смещение маркера.__
  
      Дает возможность задавать смещение метки относительно её координат. Это может быть полезно для:
      - Точного позиционирования метки на карте
      - Избежания перекрытия важных деталей стандартным положением метки

| Опция                  | Тип     | По умолчанию                                | Детальное описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|------------------------|---------|---------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `selector`             | string  | `map`                                       | ID элемента куда будет вставляться карта.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `zoom`                 | number  | `16`                                        | Масштаб карты.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `controls`             | array   | `["zoomControl", "fullscreenControl"]`      | Какие элементы будут видны на карте. <pre>[]       	        Запретить все<br>default 	        Все элементы<br>geolocationControl 	Геолокации<br>searchControl 	   	Поисковая строка<br>routeEditor 	    	Редактора маршрута<br>zoomControl 	    	Ползунок масштаба<br>fullscreenControl 	Полноэкранный режима<br>trafficControl 	    	Пробки<br>typeSelector 	    	Тип карты<br>rulerControl 	    	Измерение расстояний</pre>                                                                                                                                                                                                                                                |
| `clusters`             | boolean | `false`                                     | Включение или отключение кластеризации объектов.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `coords`               | array   |                                             | Коррдинаты метки, когда только одна метка.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `coordsList`           | array   |                                             | Список объектов, когда несколько меток. <pre>[<br>    {<br>        coords: [55.050432, 60.109599],<br>        balloonContentHeader: 'Миасс',<br>        balloonContent: 'Город в золотой долине',<br>    }<br>]</pre> или <pre>[<br>    {<br>        coords: [55.050432, 60.109599],<br>        popupName: 'Миасс',<br>        popupDescription: 'Город в золотой долине',<br>        popupPhones: {<br>            label: 'Телефоны:',<br>            value: ['+79511111111', '+79512222222']<br>        },<br>        popupEmails: {<br>            label: 'Почтовый ящик:',<br>            value: ['example@mail.ru', 'example@mail.ru']<br>        }<br>    }<br>]</pre> |
| `balloonContentHeader` | string  | `''`                                        | Заголовок всплывающей подсказки.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `balloonContent`       | string  | `''`                                        | Содержимое всплывающей подсказки.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `popup`                | boolean | `false`                                     | Отображение попап окна.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `popupName`            | string  |                                             | Заголовок объекта в попапе.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `popupDescription`     | string  |                                             | Описание объекта в попапе.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `popupPhones`          | array   |                                             | <pre>{<br>    label: 'Телефоны:',<br>    value: ['+79511111111', '+79512222222']<br>}</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `popupEmails`          | array   |                                             | <pre>{<br>    label: 'Почтовый ящик:',<br>    value: ['example@mail.ru', 'example@mail.ru']<br>}</pre>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `iconImageHref`        | string  | `'data:image/svg+xml;base64,PHN2ZyB2ZX...'` | Путь до иконки маркера.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `iconImageSize`        | array   | [32, 32]                                    | Размер маркера.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `iconImageOffset`      | array   | [-14, -32]                                  | Смещение маркера.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |


## Изменения


### v2.1.0
#### 10 февраля 2026

- feat: Отображение данных метки через попап или балун.
- feat: Кластеризация объектов

### v2.0.1
#### 13 января 2026

- fix: исправление ползунка масштаба при выводе нескольких меток на карте

### v2.0.0
#### 29 Февраля 2025

- Возможность использования одной или нескольких меток.
- Выбор, какие элементы на карте отображать.
- Можно задавать координаты для одной или нескольких меток, а также их подсказки.
- Содержимое всплывающей подсказки.
- Путь до иконки маркера.
- Размер маркера.
- Смещение маркера.

### v1.0.0

- init

[Перейти к настройкам](https://mihail174.ru/docs/developments/custom_map)